angular.module("FredrikSandell.worker-pool",[]).service("WorkerService",["$q",function(e){function t(e){var t="";return angular.forEach(e,function(e){c[e]&&(t+="importScripts('"+c[e].url+"');")}),t}function n(e){var t=[];return angular.forEach(e,function(e){c[e]&&t.push("'"+c[e].moduleName+"'")}),t.join(",")}function r(e){var r=e.filter(function(e){return"input"!==e&&"output"!==e&&"$q"!==e}),a={dependencies:r,moduleList:n(r),angularDepsAsStrings:r.length>0?","+r.map(function(e){return"'"+e+"'"}).join(","):"",angularDepsAsParamList:r.length>0?","+r.join(","):"",servicesIncludeStatements:t(r)};return a.workerFuncParamList="input,output"+a.angularDepsAsParamList,a}function a(e,t){return l.replace("<URL_TO_ANGULAR>",u).replace("<CUSTOM_DEP_INCLUDES>",t.servicesIncludeStatements).replace("<DEP_MODULES>",t.moduleList).replace("<STRING_DEP_NAMES>",t.angularDepsAsStrings).replace("<DEP_NAMES>",t.angularDepsAsParamList).replace("<WORKER_FUNCTION>",e.toString())}function o(e){return e.slice(0,e.length-1)}function i(e,t){return"("+e.toString()+")("+t+")"}var u,s={},c={},l=["","var window = self;","self.history = {};","self.Node = function () {};","var document = {","      readyState: 'complete',","      cookie: '',","      querySelector: function () {},","      createElement: function () {","          return {","              pathname: '',","              setAttribute: function () {}","          };","      }","};","importScripts('<URL_TO_ANGULAR>');","<CUSTOM_DEP_INCLUDES>","angular = window.angular;","var workerApp = angular.module('WorkerApp', [<DEP_MODULES>]);","workerApp.run(['$q'<STRING_DEP_NAMES>, function ($q<DEP_NAMES>) {","  self.addEventListener('message', function(e) {","    var input = e.data;","    var output = $q.defer();","    var promise = output.promise;","    promise.then(function(success) {","      self.postMessage({event:'success', data : success});","    }, function(reason) {","      self.postMessage({event:'failure', data : reason});","    }, function(update) {","      self.postMessage({event:'update', data : update});","    });","    <WORKER_FUNCTION>;","  });","  self.postMessage({event:'initDone'});","}]);","angular.bootstrap(null, ['WorkerApp']);"].join("\n");s.setAngularUrl=function(e){return u=e,s},s.addDependency=function(e,t,n){return c[e]={url:n,moduleName:t},s},s.createAngularWorker=function(t){if(!Array.isArray(t)||t.length<3||"function"!=typeof t[t.length-1])throw"Input needs to be: ['input','output'/*optional additional dependencies*/,\n    function(workerInput, deferredOutput /*optional additional dependencies*/)\n        {/*worker body*/}]";if("string"!=typeof u)throw"The url to angular must be defined before worker creation";var n=e.defer(),s=r(o(t)),c=(window.URL?URL:webkitURL).createObjectURL(new Blob([a(i(t[t.length-1],s.workerFuncParamList),s)],{type:"application/javascript"})),l=new Worker(c);return l.addEventListener("message",function(e){var t=e.data.event;"initDone"===t?n.resolve(p(l)):n.reject(e)}),n.promise};var p=function(t){var n={};return n.worker=t,n.run=function(n){var r=e.defer();return t.addEventListener("message",function(e){var t=e.data.event;if("initDone"===t)throw"Received worker initialization in run method. This should already have occurred!";"success"===t?r.resolve(e.data.data):"failure"===t?r.reject(e.data.data):"update"===t?r.notify(e.data.data):r.reject(e)}),t.postMessage(n),r.promise},n.terminate=function(){t.terminate()},n};return s}]);
angular.module("richcc.bootstrap.datepicker",["ui.bootstrap","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","FredrikSandell.worker-pool"]).value("$datepickerSuppressError",!1).constant("richccDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4,light:!1,yearMapHeat:!1,preventModeToggle:!1,preventCalNav:!1,hideCalNav:!1,showMarkerForMoreEvents:!0,showDataLabel:!1,defaultDataLabel:"00:00",monthPopUpTmpl:"template/richcc/richccMonthPopup.html",dayPopUpTmpl:"template/richcc/richccDayPopup.html",enableWebWorkers:!1,webWorkerAngularPath:"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.8/angular.min.js"}).service("richCCShared",function(){var e=this;return e.enableWebWorkers=!1,e.webWorkerAngularPath="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.8/angular.min.js",e}).controller("RichccDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","richccDatepickerConfig","$datepickerSuppressError","uibDateParser","richCCShared",function(e,t,n,a,r,i,o,s,u,c,l){var p=this,f={$setViewValue:angular.noop},h={},d=[];this.modes=["day","month","year"],t.datepickerOptions?angular.forEach(["enableWebWorkers","light","yearMapHeat","preventModeToggle","preventCalNav","hideCalNav","showMarkerForMoreEvents","showDataLabel","defaultDataLabel","monthPopUpTmpl","dayPopUpTmpl","customClass","customIconClass","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"],function(t){switch(t){case"enableWebWorkers":case"webWorkerAngularPath":case"webWorkerUnderscorePath":p[t]=l[t]=e[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t],e.datepickerOptions[t]&&e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],p.refreshView()});break;case"yearMapHeat":p[t]=e[t]=!1;break;case"light":case"preventModeToggle":case"preventCalNav":case"hideCalNav":case"showMarkerForMoreEvents":case"showDataLabel":case"defaultDataLabel":case"monthPopUpTmpl":case"dayPopUpTmpl":p[t]=e[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t],e.datepickerOptions[t]&&e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],p.refreshView()});break;case"customIconClass":case"customClass":p[t]=e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":p[t]=e[t]=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?a(e.datepickerOptions[t])(e.$parent):s[t];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?p.startingDay=s.startingDay:p.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(e){e?angular.isDate(e)?p[t]=c.fromTimezone(new Date(e),h.timezone):p[t]=new Date(o(e,"medium")):p[t]=null,p.refreshView()}):p[t]=s[t]?c.fromTimezone(new Date(s[t]),h.timezone):null;break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t])}):p[t]=e[t]=s[t]||null;break;case"initDate":e.datepickerOptions.initDate?(this.activeDate=c.fromTimezone(e.datepickerOptions.initDate,h.timezone)||new Date,e.$watch(function(){return e.datepickerOptions.initDate},function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=c.fromTimezone(e,h.timezone),p.refreshView())})):this.activeDate=new Date}}):(angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(n){p[n]=angular.isDefined(t[n])?a(t[n])(e.$parent):s[n]}),angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(n){p[n]=angular.isDefined(t[n])?e.$parent.$eval(t[n]):s[n]}),angular.isDefined(t.startingDay)?p.startingDay=e.$parent.$eval(t.startingDay):angular.isNumber(s.startingDay)?p.startingDay=s.startingDay:p.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,angular.forEach(["minDate","maxDate"],function(n){t[n]?d.push(e.$parent.$watch(t[n],function(e){e?angular.isDate(e)?p[n]=c.fromTimezone(new Date(e),h.timezone):p[n]=new Date(o(e,"medium")):p[n]=null,p.refreshView()})):p[n]=s[n]?c.fromTimezone(new Date(s[n]),h.timezone):null}),angular.forEach(["minMode","maxMode"],function(n){t[n]?d.push(e.$parent.$watch(t[n],function(a){p[n]=e[n]=angular.isDefined(a)?a:t[n],("minMode"===n&&p.modes.indexOf(e.datepickerMode)<p.modes.indexOf(p[n])||"maxMode"===n&&p.modes.indexOf(e.datepickerMode)>p.modes.indexOf(p[n]))&&(e.datepickerMode=p[n])})):p[n]=e[n]=s[n]||null}),t.light&&d.push(e.$parent.$watch(t.light,function(n){p.light=e.light=angular.isDefined(n)?n:t.light,p.refreshView()})),t.yearMapHeat&&d.push(e.$parent.$watch(t.yearMapHeat,function(n){p.yearMapHeat=e.yearMapHeat=angular.isDefined(n)?n:t.yearMapHeat,p.refreshView()})),t.enableWebWorkers&&d.push(e.$parent.$watch(t.enableWebWorkers,function(n){p.enableWebWorkers=e.enableWebWorkers=angular.isDefined(n)?n:t.enableWebWorkers,p.refreshView()})),t.preventCalNav&&d.push(e.$parent.$watch(t.preventCalNav,function(n){p.preventCalNav=e.preventCalNav=angular.isDefined(n)?n:t.preventCalNav,p.refreshView()})),t.preventModeToggle&&d.push(e.$parent.$watch(t.preventModeToggle,function(n){p.preventModeToggle=e.preventModeToggle=angular.isDefined(n)?n:t.preventModeToggle,p.refreshView()})),angular.isDefined(t.initDate)?(this.activeDate=c.fromTimezone(e.$parent.$eval(t.initDate),h.timezone)||new Date,d.push(e.$parent.$watch(t.initDate,function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=c.fromTimezone(e,h.timezone),p.refreshView())}))):this.activeDate=new Date),t.events&&d.push(e.$parent.$watch(t.events,function(n){p._events=e.events=angular.isDefined(n)?n:t.events,e.monthViewData={},e.monthWiseEventDetails={},e.monthWiseEventMarkers={},p.refreshView()})),t.dayLabels&&d.push(e.$parent.$watch(t.dayLabels,function(n){p._dayLabels=e.dayLabels=angular.isDefined(n)?n:t.dayLabels,p.refreshView()})),t.eventPopupHide&&d.push(e.$parent.$watch(t.eventPopupHide,function(n){p.eventPopupHide=e.eventPopupHide=angular.isDefined(n)?n:t.eventPopupHide,p.refreshView()})),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&d.push(e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,p.refreshView()})),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){f=e,h=e.$options||s.ngModelOptions,f.$modelValue&&(this.activeDate=f.$modelValue),f.$render=function(){p.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue),t=!isNaN(e);t?this.activeDate=c.fromTimezone(e,h.timezone):u||i.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=c.fromTimezone(t,h.timezone),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t)),"month"==e.datepickerMode&&e.$broadcast("refreshMonth",e.activeDt)}},this.createDateObject=function(t,n){var a=f.$viewValue?new Date(f.$viewValue):null;a=c.fromTimezone(a,h.timezone);var r={date:t,label:o(t,n.replace(/d!/,"dd")).replace(/M!/,"MM"),selected:a&&0===this.compare(t,a),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)||null,customIconClass:this.customIconClass(t)||null};return a&&0===this.compare(t,a)&&(e.selectedDt=r),p.activeDate&&0===this.compare(r.date,p.activeDate)&&(e.activeDt=r),r},this.isDisabled=function(n){return e.disabled||this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.customIconClass=function(t){return e.customIconClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=f.$viewValue?c.fromTimezone(new Date(f.$viewValue),h.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,h.timezone),f.$setViewValue(n),f.$render()}else p.activeDate=t,e.datepickerMode=p.modes[p.modes.indexOf(e.datepickerMode)-1]},e.move=function(t){var n=p.activeDate.getFullYear()+t*(p.step.years||0),a=p.activeDate.getMonth()+t*(p.step.months||0);p.activeDate.setFullYear(n,a,1),p.refreshView();var r={datepickerMode:e.datepickerMode,activeDate:p.activeDate};"function"==typeof e.datepickerOptions.moveModeCallback&&e.datepickerOptions.moveModeCallback(r)},e.toggleMode=function(t){var n={datepickerMode:e.datepickerMode,activeDate:p.activeDate};"function"==typeof e.datepickerOptions.toggleModeCallBack&&e.datepickerOptions.toggleModeCallBack(n),this.light||this.preventModeToggle||(t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&-1===t||(e.datepickerMode=p.modes[p.modes.indexOf(e.datepickerMode)+t]))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){p.element[0].focus()};e.$on("uib:datepicker.focus",v),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},e.$on("$destroy",function(){for(;d.length;)d.shift()()})}]).controller("RichccDaypickerController",["$scope","$element","dateFilter","WorkerService","richCCShared",function(e,t,n,a,r){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?g[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}function s(e,t){return t>e?-1:e==t?0:e>t?1:void 0}function u(e,t){var n=[],a=Math.abs(new Date(e).getTime()-new Date(t).getTime()),r=Math.ceil(a/864e5)+1;return _.each(_.range(r),function(t){var a=new Date(e);a=a.setDate(a.getDate()+t),n.push(new Date(a))}),n}function c(e){for(var t=!0,n=1;t;){var a=_.find(e,function(e){return e.order==n});"undefined"==typeof a?t=!1:n+=1}return n}function l(e,t){var n=_.find(t,function(t){return t.date.getDate()==e.getDate()&&t.date.getMonth()==e.getMonth()&&t.date.getFullYear()==e.getFullYear()});return"undefined"==typeof n?!1:!0}function p(e,t){var n=!1;if(t.length>0){var a=t.length;if(t[0].length>0){var r=t[a-1].length;e>=t[0][0].date&&e<=t[a-1][r-1].date&&(n=!0)}}return n}function f(e,t){var n=!1;if(t.length>0){t.length;if(t[0].length>0){var a=t[2][3],r=new Date(a.date.getFullYear(),a.date.getMonth(),1).setHours(0,0,0,0),i=new Date(a.date.getFullYear(),a.date.getMonth()+1,0).setHours(0,0,0,0);e>=r&&i>=e&&(n=!0)}}return n}function h(e,t){var n=[];if(t.length>0){var a=t.length;if(t[0].length>0){var r=t[2][3],i=new Date(r.date.getFullYear(),r.date.getMonth()+1,0).setHours(0,0,0,0);n=_.filter(e,function(e){t[a-1].length;return e>=t[0][0].date&&i>=e&&new Date(e).getMonth()==new Date(i).getMonth()})}}return n}function d(e,t,n){var a=(u(n,t),_.filter(e,function(e){return e>=t}));return a.length}function v(e,t){var a={date:e,label:n(e,t.replace(/d!/,"dd")).replace(/M!/,"MM")};return a}var m,g=[31,28,31,30,31,30,31,31,30,31,30,31],D=e.enableWebWorkers||e.$parent.enableWebWorkers||r.enableWebWorkers;D&&(a.setAngularUrl(r.webWorkerAngularPath),m=a.createAngularWorker(["input","output",function(e,t){function n(e,t){return t>e?-1:e==t?0:e>t?1:void 0}function a(e,t){var n=[],a=Math.abs(new Date(e).getTime()-new Date(t).getTime()),r=Math.ceil(a/864e5)+1;return _.each(_.range(r),function(t){var a=new Date(e);a=a.setDate(a.getDate()+t),n.push(new Date(a))}),n}function r(e){for(var t=!0,n=1;t;){var a=_.find(e,function(e){return e.order==n});"undefined"==typeof a?t=!1:n+=1}return n}function i(e,t){var n=!1;if(t.length>0){var a=t.length;if(t[0].length>0){var r=t[a-1].length;t[0][0].date=new Date(t[0][0].date),t[a-1][r-1].date=new Date(t[a-1][r-1].date),e=new Date(e),e>=t[0][0].date&&e<=t[a-1][r-1].date&&(n=!0)}}return n}function o(e,t){var n=!1;if(t.length>0){t.length;if(t[0].length>0){var a=t[2][3];a.date=new Date(a.date);var r=new Date(a.date.getFullYear(),a.date.getMonth(),1),i=r.setHours(0,0,0,0),o=new Date(a.date.getFullYear(),a.date.getMonth()+1,0),s=o.setHours(0,0,0,0);e>=i&&s>=e&&(n=!0)}}return n}function s(e,t){var n=[];if(t.length>0){var a=t.length;if(t[0].length>0){var r=t[2][3],i=new Date(r.date.getFullYear(),r.date.getMonth()+1,0).setHours(0,0,0,0);n=_.filter(e,function(e){t[a-1].length;return e=new Date(e),t[0][0].date=new Date(t[0][0].date),e>=t[0][0].date&&i>=e})}}return n}function u(e,t,n){var r=(a(n,t),_.filter(e,function(e){return e>=t}));return r.length}function c(e,t){var n=_.find(t,function(t){return t.date.getDate()==e.getDate()&&t.date.getMonth()==e.getMonth()&&t.date.getFullYear()==e.getFullYear()});return"undefined"==typeof n?!1:!0}function l(e,t){var o=_.map(t,function(e){var t=e[0];return t.date=new Date(t.date),t._date=t.date.setHours(0,0,0,0),t}),s=_.map(e,function(e){return e._startDt=new Date(e.startDt).setHours(0,0,0,0),e._endDt=new Date(e.endDt).setHours(0,0,0,0),e}),u=s.sort(function(e,t){return e._startDt==t._startDt?n(e._endDt,t._endDt):n(e._startDt,t._startDt)}),l={},p=1;return _.each(u,function(e){var n=a(e._startDt,e._endDt),s={};angular.extend(s,e),s.order=null,s.first=null,_.each(n,function(e,a){var u=i(e,t);if(1==u){var f=e.getFullYear()+"_"+e.getMonth()+"_"+e.getDate();("undefined"==typeof l[f]||null==l[f])&&(l[f]=[]);var h=s.order;0==a&&(s.order=r(l[f])),1==c(e,o)&&(s.order=r(l[f]));var d=s.order;h!=d&&2>=d?s.startPaint=s.startPaintForMonth=!0:s.startPaint=s.startPaintForMonth=!1,1==c(e,o)&&2>=d&&(s.startPaint=!0),s.paintBoxLength=Math.min(7-e.getDay(),n.length-a),s.paintBoxLengthForMonth=n.length,1==s.startPaint&&(s.step=p,p+=1);var v=_.clone(s);l[f].push(v)}})}),l}function p(e,t){var i=_.map(e,function(e){return e._startDt=new Date(e.startDt).setHours(0,0,0,0),e._endDt=new Date(e.endDt).setHours(0,0,0,0),e}),c=i.sort(function(e,t){return e._startDt==t._startDt?n(e._endDt,t._endDt):n(e._startDt,t._startDt)}),l={},p={};return _.each(c,function(e){var n=a(e._startDt,e._endDt),i={};angular.extend(i,e),i.order=null,i.first=null,_.each(n,function(a,c){var f=o(a,t);if(1==f){var h=a.getFullYear()+"_"+a.getMonth()+"_"+a.getDate();("undefined"==typeof l[h]||null==l[h])&&(l[h]=[]);var d=i.id+"_"+a.getMonth();if(1!=p[d]){var v=i.order;i.order=r(l[h]);var m=i.order;if(v!=m&&2>=m){i.startPaintForMonth=!0;var g=s(n,t),D=u(g,a,new Date(e._startDt));i.paintBoxLengthForMonth=D,p[d]=!0}else i.startPaintForMonth=!1}else i.startPaintForMonth=!1;var y=_.clone(i);l[h].push(y)}})}),l}(function(){function e(e){function t(t,n,a,r,i,o){for(;i>=0&&o>i;i+=e){var s=r?r[i]:i;a=n(a,t[s],s,t)}return a}return function(n,a,r,i){a=y(a,i,4);var o=!O(n)&&D.keys(n),s=(o||n).length,u=e>0?0:s-1;return arguments.length<3&&(r=n[o?o[u]:u],u+=e),t(n,a,r,o,u,s)}}function t(e){return function(t,n,a){n=w(n,a);for(var r=$(t),i=e>0?0:r-1;i>=0&&r>i;i+=e)if(n(t[i],i,t))return i;return-1}}function n(e,t,n){return function(a,r,i){var o=0,s=$(a);if("number"==typeof i)e>0?o=i>=0?i:Math.max(i+s,o):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return i=n(a,r),a[i]===r?i:-1;if(r!==r)return i=t(l.call(a,o,s),D.isNaN),i>=0?i+o:-1;for(i=e>0?o:s-1;i>=0&&s>i;i+=e)if(a[i]===r)return i;return-1}}function a(e,t){var n=x.length,a=e.constructor,r=D.isFunction(a)&&a.prototype||s,i="constructor";for(D.has(e,i)&&!D.contains(t,i)&&t.push(i);n--;)i=x[n],i in e&&e[i]!==r[i]&&!D.contains(t,i)&&t.push(i)}var r=this,i=r._,o=Array.prototype,s=Object.prototype,u=Function.prototype,c=o.push,l=o.slice,p=s.toString,f=s.hasOwnProperty,h=Array.isArray,d=Object.keys,v=u.bind,m=Object.create,g=function(){},D=function(e){return e instanceof D?e:this instanceof D?void(this._wrapped=e):new D(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=D),exports._=D):r._=D,D.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)};case 4:return function(n,a,r,i){return e.call(t,n,a,r,i)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?D.identity:D.isFunction(e)?y(e,t,n):D.isObject(e)?D.matcher(e):D.property(e)};D.iteratee=function(e,t){return w(e,t,1/0)};var M=function(e,t){return function(n){var a=arguments.length;if(2>a||null==n)return n;for(var r=1;a>r;r++)for(var i=arguments[r],o=e(i),s=o.length,u=0;s>u;u++){var c=o[u];t&&void 0!==n[c]||(n[c]=i[c])}return n}},k=function(e){if(!D.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},b=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,$=b("length"),O=function(e){var t=$(e);return"number"==typeof t&&t>=0&&_>=t};D.each=D.forEach=function(e,t,n){t=y(t,n);var a,r;if(O(e))for(a=0,r=e.length;r>a;a++)t(e[a],a,e);else{var i=D.keys(e);for(a=0,r=i.length;r>a;a++)t(e[i[a]],i[a],e)}return e},D.map=D.collect=function(e,t,n){t=w(t,n);for(var a=!O(e)&&D.keys(e),r=(a||e).length,i=Array(r),o=0;r>o;o++){var s=a?a[o]:o;i[o]=t(e[s],s,e)}return i},D.reduce=D.foldl=D.inject=e(1),D.reduceRight=D.foldr=e(-1),D.find=D.detect=function(e,t,n){var a;return a=O(e)?D.findIndex(e,t,n):D.findKey(e,t,n),void 0!==a&&-1!==a?e[a]:void 0},D.filter=D.select=function(e,t,n){var a=[];return t=w(t,n),D.each(e,function(e,n,r){t(e,n,r)&&a.push(e)}),a},D.reject=function(e,t,n){return D.filter(e,D.negate(w(t)),n)},D.every=D.all=function(e,t,n){t=w(t,n);for(var a=!O(e)&&D.keys(e),r=(a||e).length,i=0;r>i;i++){var o=a?a[i]:i;if(!t(e[o],o,e))return!1}return!0},D.some=D.any=function(e,t,n){t=w(t,n);for(var a=!O(e)&&D.keys(e),r=(a||e).length,i=0;r>i;i++){var o=a?a[i]:i;if(t(e[o],o,e))return!0}return!1},D.contains=D.includes=D.include=function(e,t,n,a){return O(e)||(e=D.values(e)),("number"!=typeof n||a)&&(n=0),D.indexOf(e,t,n)>=0},D.invoke=function(e,t){var n=l.call(arguments,2),a=D.isFunction(t);return D.map(e,function(e){var r=a?t:e[t];return null==r?r:r.apply(e,n)})},D.pluck=function(e,t){return D.map(e,D.property(t))},D.where=function(e,t){return D.filter(e,D.matcher(t))},D.findWhere=function(e,t){return D.find(e,D.matcher(t))},D.max=function(e,t,n){var a,r,i=-1/0,o=-1/0;if(null==t&&null!=e){e=O(e)?e:D.values(e);for(var s=0,u=e.length;u>s;s++)a=e[s],a>i&&(i=a)}else t=w(t,n),D.each(e,function(e,n,a){r=t(e,n,a),(r>o||r===-1/0&&i===-1/0)&&(i=e,o=r)});return i},D.min=function(e,t,n){var a,r,i=1/0,o=1/0;if(null==t&&null!=e){e=O(e)?e:D.values(e);for(var s=0,u=e.length;u>s;s++)a=e[s],i>a&&(i=a)}else t=w(t,n),D.each(e,function(e,n,a){r=t(e,n,a),(o>r||1/0===r&&1/0===i)&&(i=e,o=r)});return i},D.shuffle=function(e){for(var t,n=O(e)?e:D.values(e),a=n.length,r=Array(a),i=0;a>i;i++)t=D.random(0,i),t!==i&&(r[i]=r[t]),r[t]=n[i];return r},D.sample=function(e,t,n){return null==t||n?(O(e)||(e=D.values(e)),e[D.random(e.length-1)]):D.shuffle(e).slice(0,Math.max(0,t))},D.sortBy=function(e,t,n){return t=w(t,n),D.pluck(D.map(e,function(e,n,a){return{value:e,index:n,criteria:t(e,n,a)}}).sort(function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(a>n||void 0===a)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,a){var r={};return n=w(n,a),D.each(t,function(a,i){var o=n(a,i,t);e(r,a,o)}),r}};D.groupBy=C(function(e,t,n){D.has(e,n)?e[n].push(t):e[n]=[t]}),D.indexBy=C(function(e,t,n){e[n]=t}),D.countBy=C(function(e,t,n){D.has(e,n)?e[n]++:e[n]=1}),D.toArray=function(e){return e?D.isArray(e)?l.call(e):O(e)?D.map(e,D.identity):D.values(e):[]},D.size=function(e){return null==e?0:O(e)?e.length:D.keys(e).length},D.partition=function(e,t,n){t=w(t,n);var a=[],r=[];return D.each(e,function(e,n,i){(t(e,n,i)?a:r).push(e)}),[a,r]},D.first=D.head=D.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:D.initial(e,e.length-t)},D.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},D.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:D.rest(e,Math.max(0,e.length-t))},D.rest=D.tail=D.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},D.compact=function(e){return D.filter(e,D.identity)};var F=function(e,t,n,a){for(var r=[],i=0,o=a||0,s=$(e);s>o;o++){var u=e[o];if(O(u)&&(D.isArray(u)||D.isArguments(u))){t||(u=F(u,t,n));var c=0,l=u.length;for(r.length+=l;l>c;)r[i++]=u[c++]}else n||(r[i++]=u)}return r};D.flatten=function(e,t){return F(e,t,!1)},D.without=function(e){return D.difference(e,l.call(arguments,1))},D.uniq=D.unique=function(e,t,n,a){D.isBoolean(t)||(a=n,n=t,t=!1),null!=n&&(n=w(n,a));for(var r=[],i=[],o=0,s=$(e);s>o;o++){var u=e[o],c=n?n(u,o,e):u;t?(o&&i===c||r.push(u),i=c):n?D.contains(i,c)||(i.push(c),r.push(u)):D.contains(r,u)||r.push(u)}return r},D.union=function(){return D.uniq(F(arguments,!0,!0))},D.intersection=function(e){for(var t=[],n=arguments.length,a=0,r=$(e);r>a;a++){var i=e[a];if(!D.contains(t,i)){for(var o=1;n>o&&D.contains(arguments[o],i);o++);o===n&&t.push(i)}}return t},D.difference=function(e){var t=F(arguments,!0,!0,1);return D.filter(e,function(e){return!D.contains(t,e)})},D.zip=function(){return D.unzip(arguments)},D.unzip=function(e){for(var t=e&&D.max(e,$).length||0,n=Array(t),a=0;t>a;a++)n[a]=D.pluck(e,a);return n},D.object=function(e,t){for(var n={},a=0,r=$(e);r>a;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n},D.findIndex=t(1),D.findLastIndex=t(-1),D.sortedIndex=function(e,t,n,a){n=w(n,a,1);for(var r=n(t),i=0,o=$(e);o>i;){var s=Math.floor((i+o)/2);n(e[s])<r?i=s+1:o=s}return i},D.indexOf=n(1,D.findIndex,D.sortedIndex),D.lastIndexOf=n(-1,D.findLastIndex),D.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var a=Math.max(Math.ceil((t-e)/n),0),r=Array(a),i=0;a>i;i++,e+=n)r[i]=e;return r};var E=function(e,t,n,a,r){if(!(a instanceof t))return e.apply(n,r);var i=k(e.prototype),o=e.apply(i,r);return D.isObject(o)?o:i};D.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,l.call(arguments,1));if(!D.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),a=function(){return E(e,a,t,this,n.concat(l.call(arguments)))};return a},D.partial=function(e){var t=l.call(arguments,1),n=function(){for(var a=0,r=t.length,i=Array(r),o=0;r>o;o++)i[o]=t[o]===D?arguments[a++]:t[o];for(;a<arguments.length;)i.push(arguments[a++]);return E(e,n,this,this,i)};return n},D.bindAll=function(e){var t,n,a=arguments.length;if(1>=a)throw new Error("bindAll must be passed function names");for(t=1;a>t;t++)n=arguments[t],e[n]=D.bind(e[n],e);return e},D.memoize=function(e,t){var n=function(a){var r=n.cache,i=""+(t?t.apply(this,arguments):a);return D.has(r,i)||(r[i]=e.apply(this,arguments)),r[i]};return n.cache={},n},D.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},D.defer=D.partial(D.delay,D,1),D.throttle=function(e,t,n){var a,r,i,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:D.now(),o=null,i=e.apply(a,r),o||(a=r=null)};return function(){var c=D.now();s||n.leading!==!1||(s=c);var l=t-(c-s);return a=this,r=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),s=c,i=e.apply(a,r),o||(a=r=null)):o||n.trailing===!1||(o=setTimeout(u,l)),i}},D.debounce=function(e,t,n){var a,r,i,o,s,u=function(){var c=D.now()-o;t>c&&c>=0?a=setTimeout(u,t-c):(a=null,n||(s=e.apply(i,r),a||(i=r=null)))};return function(){i=this,r=arguments,o=D.now();var c=n&&!a;return a||(a=setTimeout(u,t)),c&&(s=e.apply(i,r),i=r=null),s}},D.wrap=function(e,t){return D.partial(t,e)},D.negate=function(e){return function(){return!e.apply(this,arguments)}},D.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}},D.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},D.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},D.once=D.partial(D.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];D.keys=function(e){if(!D.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)D.has(e,n)&&t.push(n);return T&&a(e,t),t},D.allKeys=function(e){if(!D.isObject(e))return[];var t=[];for(var n in e)t.push(n);return T&&a(e,t),t},D.values=function(e){for(var t=D.keys(e),n=t.length,a=Array(n),r=0;n>r;r++)a[r]=e[t[r]];return a},D.mapObject=function(e,t,n){t=w(t,n);for(var a,r=D.keys(e),i=r.length,o={},s=0;i>s;s++)a=r[s],o[a]=t(e[a],a,e);return o},D.pairs=function(e){for(var t=D.keys(e),n=t.length,a=Array(n),r=0;n>r;r++)a[r]=[t[r],e[t[r]]];return a},D.invert=function(e){for(var t={},n=D.keys(e),a=0,r=n.length;r>a;a++)t[e[n[a]]]=n[a];return t},D.functions=D.methods=function(e){var t=[];for(var n in e)D.isFunction(e[n])&&t.push(n);return t.sort()},D.extend=M(D.allKeys),D.extendOwn=D.assign=M(D.keys),D.findKey=function(e,t,n){t=w(t,n);for(var a,r=D.keys(e),i=0,o=r.length;o>i;i++)if(a=r[i],t(e[a],a,e))return a},D.pick=function(e,t,n){var a,r,i={},o=e;if(null==o)return i;D.isFunction(t)?(r=D.allKeys(o),a=y(t,n)):(r=F(arguments,!1,!1,1),a=function(e,t,n){return t in n},o=Object(o));for(var s=0,u=r.length;u>s;s++){var c=r[s],l=o[c];a(l,c,o)&&(i[c]=l)}return i},D.omit=function(e,t,n){if(D.isFunction(t))t=D.negate(t);else{var a=D.map(F(arguments,!1,!1,1),String);t=function(e,t){return!D.contains(a,t)}}return D.pick(e,t,n)},D.defaults=M(D.allKeys,!0),D.create=function(e,t){var n=k(e);return t&&D.extendOwn(n,t),n},D.clone=function(e){return D.isObject(e)?D.isArray(e)?e.slice():D.extend({},e):e},D.tap=function(e,t){return t(e),e},D.isMatch=function(e,t){var n=D.keys(t),a=n.length;if(null==e)return!a;for(var r=Object(e),i=0;a>i;i++){var o=n[i];if(t[o]!==r[o]||!(o in r))return!1}return!0};var P=function(e,t,n,a){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof D&&(e=e._wrapped),t instanceof D&&(t=t._wrapped);var r=p.call(e);if(r!==p.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var i="[object Array]"===r;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(D.isFunction(o)&&o instanceof o&&D.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],a=a||[];for(var u=n.length;u--;)if(n[u]===e)return a[u]===t;if(n.push(e),a.push(t),i){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!P(e[u],t[u],n,a))return!1}else{var c,l=D.keys(e);if(u=l.length,D.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!D.has(t,c)||!P(e[c],t[c],n,a))return!1}return n.pop(),a.pop(),!0};D.isEqual=function(e,t){return P(e,t)},D.isEmpty=function(e){return null==e?!0:O(e)&&(D.isArray(e)||D.isString(e)||D.isArguments(e))?0===e.length:0===D.keys(e).length},D.isElement=function(e){return!(!e||1!==e.nodeType)},D.isArray=h||function(e){return"[object Array]"===p.call(e)},D.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},D.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){D["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),D.isArguments(arguments)||(D.isArguments=function(e){return D.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(D.isFunction=function(e){return"function"==typeof e||!1}),D.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},D.isNaN=function(e){return D.isNumber(e)&&e!==+e},D.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},D.isNull=function(e){return null===e},D.isUndefined=function(e){return void 0===e},D.has=function(e,t){return null!=e&&f.call(e,t)},D.noConflict=function(){return r._=i,this},D.identity=function(e){return e},D.constant=function(e){return function(){return e}},D.noop=function(){},D.property=b,D.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},D.matcher=D.matches=function(e){return e=D.extendOwn({},e),function(t){return D.isMatch(t,e)}},D.times=function(e,t,n){var a=Array(Math.max(0,e));t=y(t,n,1);for(var r=0;e>r;r++)a[r]=t(r);return a},D.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},D.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=D.invert(V),Y=function(e){var t=function(t){return e[t]},n="(?:"+D.keys(e).join("|")+")",a=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(r,t):e}};D.escape=Y(V),D.unescape=Y(W),D.result=function(e,t,n){var a=null==e?void 0:e[t];return void 0===a&&(a=n),D.isFunction(a)?a.call(e):a};var H=0;D.uniqueId=function(e){var t=++H+"";return e?e+t:t},D.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\u2028|\u2029/g,j=function(e){return"\\"+A[e]};D.template=function(e,t,n){!t&&n&&(t=n),t=D.defaults({},t,D.templateSettings);var a=RegExp([(t.escape||N).source,(t.interpolate||N).source,(t.evaluate||N).source].join("|")+"|$","g"),r=0,i="__p+='";e.replace(a,function(t,n,a,o,s){return i+=e.slice(r,s).replace(S,j),r=s+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?i+="'+\n((__t=("+a+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(s){throw s.source=i,s}var u=function(e){return o.call(this,e,D)},c=t.variable||"obj";return u.source="function("+c+"){\n"+i+"}",u},D.chain=function(e){var t=D(e);return t._chain=!0,t};var U=function(e,t){return e._chain?D(t).chain():t};D.mixin=function(e){D.each(D.functions(e),function(t){var n=D[t]=e[t];D.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),U(this,n.apply(D,e))}})},D.mixin(D),D.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];D.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}}),D.each(["concat","join","slice"],function(e){var t=o[e];D.prototype[e]=function(){
return U(this,t.apply(this._wrapped,arguments))}}),D.prototype.value=function(){return this._wrapped},D.prototype.valueOf=D.prototype.toJSON=D.prototype.value,D.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return D})}).call(this);var f,h=JSON.parse(e);"month"==h.process?f=p(h.evts,h.rws):"day"==h.process&&(f=l(h.evts,h.rws)),t.resolve(JSON.stringify(f))}])),this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks||!0,t.refreshView()};var y=this;this.initForAllMonthsHeatData=function(t){y._actMonViewDate=e.monthDate,y.activeMonthViewDate=e.monthDate.date,angular.extend(this,t),y._refreshMonthView(!0)},this.initForAllMonthsEventsData=function(t){y._actMonViewDate=e.monthDate,y.activeMonthViewDate=e.monthDate.date,angular.extend(this,t),y._refreshMonthView(!1)},e.$on("refreshMonth",function(t,n){console.log("refreshMonth"),e.monthDate.date.setFullYear(n.date.getFullYear()),y._actMonViewDate=e.monthDate,y.activeMonthViewDate=e.monthDate.date,console.log(y.activeMonthViewDate),y._refreshMonthView(!1)}),e.richccDaySelected=function(t,n){var a={dt:t,events:n};"function"==typeof e.daySelectCallback?e.daySelectCallback({data:a}):"function"==typeof e.$parent.daySelectCallback&&e.$parent.daySelectCallback({data:a})},e.popUpTrigger=function(t){try{var n=e.eventPopupSettings;if("undefined"==typeof n||"undefined"==typeof n.showWhenEventsEmpty||1==n.showWhenEventsEmpty)return"undefined"!=typeof n&&"undefined"!=typeof n.showWhenEventsEmpty&&1==n.showWhenEventsEmpty?"outsideClick":"none";if("undefined"==typeof t||null==t||t=={})return"none";if(t.length>0&&1!=n.hidden)return"outsideClick"}catch(a){return"none"}},e.popUpTriggerYearView=function(t){try{var n=e.parent.eventPopupSettings;if("undefined"==typeof n||"undefined"==typeof n.showWhenEventsEmpty||1==n.showWhenEventsEmpty)return"undefined"!=typeof n&&"undefined"!=typeof n.showWhenEventsEmpty&&1==n.showWhenEventsEmpty?"outsideClick":"none";if("undefined"==typeof t||null==t||t=={})return"none";if(t.length>0&&1!=n.hidden)return"outsideClick"}catch(a){return"none"}},e.popUpLeftHandler=function(t,n){var a={dt:t,events:n};"function"==typeof e.eventPopupLeftCallback?e.eventPopupLeftCallback({data:a}):"function"==typeof e.$parent.eventPopupLeftCallback&&e.$parent.eventPopupLeftCallback({data:a})},e.popUpRightHandler=function(t,n){var a={dt:t,events:n};"function"==typeof e.eventPopupRightCallback?e.eventPopupRightCallback({data:a}):"function"==typeof e.$parent.eventPopupRightCallback&&e.$parent.eventPopupRightCallback({data:a})},e.popUpEventClickHandler=function(t,n){var a={dt:t,event:n};"function"==typeof e.eventClickCallback?e.eventClickCallback({data:a}):"function"==typeof e.$parent.eventClickCallback&&e.$parent.eventClickCallback({data:a})},this.getDates=function(e,t){for(var n,a=new Array(t),r=new Date(e),i=0;t>i;)n=new Date(r),a[i++]=n,r.setDate(r.getDate()+1);return a},this._refreshView=function(){e.eventDetails={};var t=this.activeDate.getFullYear(),a=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(t,a,1);var i=this.startingDay-r.getDay(),s=i>0?7-i:-i,u=new Date(r);s>0&&u.setDate(-s+1);for(var c=this.getDates(u,42),l=0;42>l;l++)c[l]=angular.extend(this.createDateObject(c[l],this.formatDay),{secondary:c[l].getMonth()!==a,uid:e.uniqueId+"-"+l,key:c[l].getFullYear()+"_"+c[l].getMonth()+"_"+c[l].getDate()});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:n(c[p].date,this.formatDayHeader),full:n(c[p].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-this.startingDay)%7,h=e.rows.length,d=0;h>d;d++)e.weekNumbers.push(o(e.rows[d][f].date))}if(1==this.showDataLabel&&(e.dataLabels=this.processLabels(this._dayLabels)),D){var v=this._events;m.then(function(t){var n={evts:v,rws:e.rows,process:"day"};return t.run(JSON.stringify(n))},function(e){console.log("error"+_indexMonth),console.log(e)}).then(function(t){var n=JSON.parse(t);e.eventDetails=n})}else e.eventDetails=this.processEvents(this._events,e.rows);e.light=this.light,e.yearMapHeat=this.yearMapHeat,e.enableWebWorkers=this.enableWebWorkers,e.eventPopupHide=this.eventPopupHide,e.preventCalNav=this.preventCalNav,e.preventModeToggle=this.preventModeToggle,e.monthPopUpTmpl=this.monthPopUpTmpl,e.dayPopUpTmpl=this.dayPopUpTmpl},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(a,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)},this.processEvents=function(e,t){var n=_.map(t,function(e){var t=e[0];return t._date=t.date.setHours(0,0,0,0),t}),a=_.map(e,function(e){return e._startDt=new Date(e.startDt).setHours(0,0,0,0),e._endDt=new Date(e.endDt).setHours(0,0,0,0),e}),r=a.sort(function(e,t){return e._startDt==t._startDt?s(e._endDt,t._endDt):s(e._startDt,t._startDt)}),i={},o=1;return _.each(r,function(e){var a=u(e._startDt,e._endDt),r={};angular.extend(r,e),r.order=null,r.first=null,_.each(a,function(e,s){var u=p(e,t);if(1==u){var f=e.getFullYear()+"_"+e.getMonth()+"_"+e.getDate();("undefined"==typeof i[f]||null==i[f])&&(i[f]=[]);var h=r.order;0==s&&(r.order=c(i[f])),1==l(e,n)&&(r.order=c(i[f]));var d=r.order;h!=d&&2>=d?r.startPaint=r.startPaintForMonth=!0:r.startPaint=r.startPaintForMonth=!1,1==l(e,n)&&2>=d&&(r.startPaint=!0),r.paintBoxLength=Math.min(7-e.getDay(),a.length-s),r.paintBoxLengthForMonth=a.length,1==r.startPaint&&(r.step=o,o+=1);var v=_.clone(r);i[f].push(v)}})}),i},this.processEventsForMonthEventViewer=function(e,t){var n=_.map(e,function(e){return e._startDt=new Date(e.startDt).setHours(0,0,0,0),e._endDt=new Date(e.endDt).setHours(0,0,0,0),e}),a=n.sort(function(e,t){return e._startDt==t._startDt?s(e._endDt,t._endDt):s(e._startDt,t._startDt)}),r={},i={};return _.each(a,function(e){var n=u(e._startDt,e._endDt),a={};angular.extend(a,e),a.order=null,a.first=null,_.each(n,function(o,s){var u=f(o,t);if(1==u){var l=o.getFullYear()+"_"+o.getMonth()+"_"+o.getDate();("undefined"==typeof r[l]||null==r[l])&&(r[l]=[]);var p=a.id+"_"+o.getMonth();if(1!=i[p]){var v=a.order;a.order=c(r[l]);var m=a.order;if(v!=m&&2>=m){a.startPaintForMonth=!0;var g=h(n,t);a.paintBoxLengthForMonth=d(g,o,new Date(e._startDt)),i[p]=!0}else a.startPaintForMonth=!1}else a.startPaintForMonth=!1;var D=_.clone(a);r[l].push(D)}})}),r},this.processLabels=function(e){var t={};return _.each(e,function(e){var n=new Date(e.dt),a=n.getFullYear()+"_"+n.getMonth()+"_"+n.getDate();t[a]=e.label}),t},e.viewAllEvents=function(e,t){return t.stopPropagation(),t.preventDefault(),!1},e.getPopUpPositionForDayMap=function(e,t){var n="";return n=2>=e?"bottom":"top",0==t?n+="-left":6==t&&(n+="-right"),n},e.getPopUpPositionForMonthHeatMap=function(e){var t="";switch(e){case 0:case 1:t="bottom-left";break;case 6:case 7:t="top-left";break;case 4:case 5:t="bottom-right";break;case 10:case 11:t="top-right";break;case 8:case 9:t="top";break;case 2:case 3:default:t="bottom"}return t},e.getPopUpPositionForMonthEventMap=function(e,t){var n="";switch(n=6>e?"bottom":"top",t){case 0:case 1:n+="-left";break;case 5:case 6:n+="-right";break;default:n=n}return n},this._refreshMonthView=function(t){console.log("_refreshMonthView"),this._events=e.$parent.events,1==t&&this.activeMonthViewDate.setDate(15);var a=this.activeMonthViewDate.getFullYear(),r=this.activeMonthViewDate.getMonth(),i=new Date(this.activeMonthViewDate);"undefined"!=typeof e.monthWiseEventDetails?e.monthWiseEventDetails[this.activeMonthViewDate.getMonth()]={}:"undefined"!=typeof e.parent.monthWiseEventDetails&&(e.parent.monthWiseEventDetails[this.activeMonthViewDate.getMonth()]={}),i.setFullYear(a,r,1),this.startingDay=0;var s=this.startingDay-i.getDay(),u=s>0?7-s:-s,c=new Date(i);u>0&&c.setDate(-u+1);for(var l=this.getDates(c,42),p=0;42>p;p++)l[p]=angular.extend(v(l[p],this.formatDay),{secondary:l[p].getMonth()!==r,uid:e.uniqueId+"-"+p,key:l[p].getFullYear()+"_"+l[p].getMonth()+"_"+l[p].getDate(),monthIndex:l[p].getMonth()}),"undefined"!=typeof e.customClass&&"function"==typeof e.customClass?l[p].customClass=e.customClass({date:l[p].date,mode:"year"})||null:"undefined"!=typeof e.datepickerOptions&&"undefined"!=typeof e.datepickerOptions.customClass&&"function"==typeof e.datepickerOptions.customClass?l[p].customClass=e.datepickerOptions.customClass({date:l[p].date,mode:"year"})||null:"undefined"!=typeof e.$parent.datepickerOptions&&"undefined"!=typeof e.$parent.datepickerOptions.customClass&&"function"==typeof e.$parent.datepickerOptions.customClass&&(l[p].customClass=e.$parent.datepickerOptions.customClass({date:l[p].date,mode:"year"})||null);e.labels=new Array(7),this.labels=[];for(var f=0;7>f;f++){var h={abbr:n(l[f].date,this.formatDayHeader),full:n(l[f].date,"EEEE")};this.labels.push(h),e.labels[f]=h}if("undefined"!=typeof e.monthWiseEventMarkers?e.monthWiseEventMarkers[this.activeMonthViewDate.getMonth()]=this.labels:"undefined"!=typeof e.$parent.monthWiseEventMarkers&&(e.$parent.monthWiseEventMarkers[this.activeMonthViewDate.getMonth()]=this.labels),e.title=n(this.activeMonthViewDate,this.formatDayTitle),e.rows=this.split(l,7),"undefined"!=typeof e.monthViewData?e.monthViewData[this.activeMonthViewDate.getMonth()]={dt:this._actMonViewDate,rows:e.rows}:"undefined"!=typeof e.$parent.monthViewData&&(e.$parent.monthViewData[this.activeMonthViewDate.getMonth()]={dt:this._actMonViewDate,rows:e.rows}),e.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,g=e.rows.length,y=0;g>y;y++)e.weekNumbers.push(o(e.rows[y][d].date))}var w=this.activeMonthViewDate.getMonth();if(D){var M=this._events;m.then(function(t){var n={evts:M,rws:e.rows,process:"month"};return t.run(JSON.stringify(n))},function(e){console.log("error"+w),console.log(e)}).then(function(t){var n=JSON.parse(t);console.log("result"+w),console.log(n),this.yearMapHeat?"undefined"!=typeof e.monthViewData?e.monthWiseEventDetails[w]=n:"undefined"!=typeof e.$parent.monthViewData&&(e.$parent.monthWiseEventDetails[w]=n):"undefined"!=typeof e.monthViewData?e.monthWiseEventDetails[w]=n:"undefined"!=typeof e.$parent.monthViewData&&(e.$parent.monthWiseEventDetails[w]=n)})}else this.yearMapHeat?"undefined"!=typeof e.monthViewData?e.monthWiseEventDetails[this.activeMonthViewDate.getMonth()]=this.processEvents(this._events,e.rows):"undefined"!=typeof e.parent.monthViewData&&(e.parent.monthWiseEventDetails[this.activeMonthViewDate.getMonth()]=this.processEvents(this._events,e.rows)):"undefined"!=typeof e.monthViewData?e.monthWiseEventDetails[this.activeMonthViewDate.getMonth()]=this.processEventsForMonthEventViewer(this._events,e.rows):"undefined"!=typeof e.parent.monthViewData&&(e.parent.monthWiseEventDetails[this.activeMonthViewDate.getMonth()]=this.processEventsForMonthEventViewer(this._events,e.rows));e.light=this.light,e.yearMapHeat=this.yearMapHeat,e.enableWebWorkers=this.enableWebWorkers,e.eventPopupHide=this.eventPopupHide,e.preventCalNav=this.preventCalNav,e.preventModeToggle=this.preventModeToggle,e.monthPopUpTmpl=this.monthPopUpTmpl,e.dayPopUpTmpl=this.dayPopUpTmpl}}]).controller("RichccMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,a=new Array(12),r=this.activeDate.getFullYear(),i=0;12>i;i++)t=new Date(this.activeDate),t.setFullYear(r,i,1),a[i]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+i,monthIndex:t.getMonth()});e.title=n(this.activeDate,this.formatMonthTitle);var o=1==e.yearMapHeat?6:1;e.rows=this.split(a,o)},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),a=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("RichccYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e){return parseInt((e-1)/i,10)*i+1}var r,i;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,i=this.yearRows*r,this.step={years:i}},this._refreshView=function(){for(var t,n=new Array(i),o=0,s=a(this.activeDate.getFullYear());i>o;o++)t=new Date(this.activeDate),t.setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i:"home"===e?n=a(this.activeDate.getFullYear()):"end"===e&&(n=a(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(n)}}]).directive("richccDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",customIconClass:"&",shortcutPropagation:"&?",events:"=",dayLabels:"=",light:"=",eventPopupHide:"=",preventCalNav:"=",preventModeToggle:"=",yearMapHeat:"=",daySelectCallback:"&",eventPopupLeftCallback:"&",eventPopupRightCallback:"&",eventClickCallback:"&",eventPopupSettings:"="},require:["richccDatepicker","^ngModel"],controller:"RichccDatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var r=a[0],i=a[1];r.init(i)}}}).directive("richccDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/day.html"},require:["^richccDatepicker","richccDaypicker"],controller:"RichccDaypickerController",link:function(e,t,n,a){var r=a[0],i=a[1];i.init(r)}}}).directive("richMonthsHeatViewer",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/monthHeatViewer.html"},transclude:!0,scope:{monthDate:"=",monthIndex:"=",monthSelectCallback:"&"},require:["^richccDatepicker","^richccMonthpickerHeatmap","richMonthsHeatViewer"],controller:"RichccDaypickerController",link:function(e,t,n,a){var r=a[0],i=(a[1],a[2]);i.initForAllMonthsHeatData(r)}}}).directive("richMonthsEventViewer",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/monthEventViewer.html"},transclude:!0,scope:{monthDate:"=",monthIndex:"=",monthSelectCallback:"&"},require:["^richccDatepicker","^richccMonthpickerEventmap","richMonthsEventViewer"],controller:"RichccDaypickerController",link:function(e,t,n,a){var r=a[0],i=(a[1],a[2]);i.initForAllMonthsEventsData(r)}}}).directive("richMonthsDayMarker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/monthViewerDayMarker.html"}}}).directive("richccMonthpickerHeatmap",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/monthHeatWrap.html"},require:["^richccDatepicker","richccMonthpickerHeatmap"],controller:"RichccMonthpickerController",link:function(e,t,n,a){var r=a[0],i=a[1];i.init(r)}}}).directive("richccMonthpickerEventmap",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/monthEventWrap.html"},require:["^richccDatepicker","richccMonthpickerEventmap"],controller:"RichccMonthpickerController",link:function(e,t,n,a){var r=a[0],i=a[1];i.init(r)}}}).directive("richccYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/year.html"},require:["^richccDatepicker","richccYearpicker"],controller:"RichccYearpickerController",link:function(e,t,n,a){var r=a[0];angular.extend(r,a[1]),r.yearpickerInit(),r.refreshView()}}}).constant("richccDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/richcc/popup.html",datepickerTemplateUrl:"template/richcc/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0}).controller("RichccDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","richccDatepickerPopupConfig","$timeout","richccDatepickerConfig",function(e,t,n,a,r,i,o,s,u,c,l,p,f){function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(t){var n=c.parse(t,y,e.date);if(isNaN(n))for(var a=0;a<T.length;a++)if(n=c.parse(t,T[a],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=d(e);if(!isNaN(t))return c.toTimezone(t,F.timezone)}return C.$options&&C.$options.allowInvalid?e:void 0}function m(e,t){var a=e||t;return n.ngRequired||a?(angular.isNumber(a)&&(a=new Date(a)),a?angular.isDate(a)&&!isNaN(a)?!0:angular.isString(a)?!isNaN(d(t)):!1:!0):!0}function g(n){if(e.isOpen||!e.disabled){var a=E[0],r=t[0].contains(n.target),i=void 0!==a.contains&&a.contains(n.target);!e.isOpen||r||i||e.$apply(function(){e.isOpen=!1})}}function D(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}var y,w,M,k,b,_,$,O,C,F,E,T,x={},P=!1,V=[];e.watchData={},this.init=function(s){if(C=s,F=s.$options||f.ngModelOptions,w=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):l.closeOnDateSelection,M=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):l.appendToBody,k=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):l.onOpenFocus,b=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:l.datepickerPopupTemplateUrl,_=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:l.datepickerTemplateUrl,T=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):l.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):l.showButtonBar,l.html5Types[n.type]?(y=l.html5Types[n.type],P=!0):(y=n.uibDatepickerPopup||l.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||l.datepickerPopup;if(n!==y&&(y=n,C.$modelValue=null,!y))throw new Error("uibDatepickerPopup must have a date format specified.")})),!y)throw new Error("uibDatepickerPopup must have a date format specified.");if(P&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");$=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),e.ngModelOptions=angular.copy(F),e.ngModelOptions.timezone=null,$.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":b}),O=angular.element($.children()[0]),O.attr("template-url",_),P&&"month"===n.type&&(O.attr("datepicker-mode",'"month"'),O.attr("min-mode","month")),e.datepickerOptions&&angular.forEach(e.datepickerOptions,function(e,t){-1===["minDate","maxDate","minMode","maxMode","initDate","datepickerMode"].indexOf(t)?O.attr(h(t),e):O.attr(h(t),"datepickerOptions."+t)}),angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(t){if(n[t]){var a=r(n[t]),i={get:function(){return a(e.$parent)}};if(O.attr(h(t),"watchData."+t),"datepickerMode"===t){var o=a.assign;i.set=function(t){o(e.$parent,t)}}Object.defineProperty(e.watchData,t,i)}}),angular.forEach(["minDate","maxDate","initDate"],function(t){if(n[t]){var a=r(n[t]);V.push(e.$parent.$watch(a,function(n){"minDate"===t||"maxDate"===t?(null===n?x[t]=null:angular.isDate(n)?x[t]=c.fromTimezone(new Date(n),F.timezone):x[t]=new Date(u(n,"medium")),e.watchData[t]=null===n?null:x[t]):e.watchData[t]=c.fromTimezone(new Date(n),F.timezone)})),O.attr(h(t),"watchData."+t)}}),n.dateDisabled&&O.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(e){angular.isDefined(n[e])&&O.attr(h(e),n[e])}),n.customClass&&O.attr("custom-class","customClass({ date: date, mode: mode })"),n.customIconClass&&O.attr("custom-class","customIconClass({ date: date, mode: mode })"),P?C.$formatters.push(function(t){return e.date=c.fromTimezone(t,F.timezone),t}):(C.$$parserName="date",C.$validators.date=m,C.$parsers.unshift(v),C.$formatters.push(function(t){return C.$isEmpty(t)?(e.date=t,t):(e.date=c.fromTimezone(t,F.timezone),y=y.replace(/M!/,"MM").replace(/d!/,"dd"),u(e.date,y))})),C.$viewChangeListeners.push(function(){e.date=d(C.$viewValue)}),t.on("keydown",D),E=a($)(e),$.remove(),M?i.find("body").append(E):t.after(E),e.$on("$destroy",function(){for(e.isOpen===!0&&(o.$$phase||e.$apply(function(){e.isOpen=!1})),E.remove(),t.off("keydown",D),i.off("click",g);V.length;)V.shift()()})},e.getText=function(t){return e[t+"Text"]||l[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,x.minDate)<0||e.watchData.maxDate&&e.compare(t,x.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var a=e.date?u(e.date,y):null;t.val(a),C.$setViewValue(a),w&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&V.push(e.$parent.$watch(r(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(n){n?e.disabled?e.isOpen=!1:(e.position=M?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),p(function(){k&&e.$broadcast("uib:datepicker.focus"),i.on("click",g)},0,!1)):i.off("click",g)})}]).directive("richccDatepickerPopup",function(){return{require:["ngModel","richccDatepickerPopup"],controller:"RichccDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&",customIconClass:"&"},link:function(e,t,n,a){var r=a[0],i=a[1];i.init(r)}}}).directive("richccDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/richcc/popup.html"}}}).directive("ccKey",function(){return{restrict:"AEC",link:function(e,t,n){t.on("click",function(t){1!=n.ngDisabled&&e.$apply(n.ccKey)}),t.on("keyup",function(t){13!=t.keyCode&&32!=t.keyCode||1==n.ngDisabled||e.$apply(n.ccKey)})}}});
!function(){"use strict";var e={richccTmplDatepicker:'        <div class="uib-datepicker richcc-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">            <div class="richcc-comp-title">Calendar</div>            <div class="richcc-cal-holder">                <richcc-daypicker ng-switch-when="day" tabindex="0"></richcc-daypicker>                <richcc-monthpicker-heatmap ng-switch-when="month" ng-if="yearMapHeat == true" tabindex="0"></richcc-monthpicker-heatmap>                <richcc-monthpicker-eventmap ng-switch-when="month" ng-if="yearMapHeat == false" tabindex="0"></richcc-monthpicker-eventmap>                <richcc-yearpicker ng-switch-when="year" tabindex="0"></richcc-yearpicker>            </div>        </div>    ',richccTmplDay:'        <table class="uib-daypicker richcc-daypicker" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}" ng-class="{\'richcc-light\': light}">            <thead>                <tr class="header-action-holder">                    <th colspan="1" ng-if="light != true"></th>                    <th colspan="{{light == true ? 8 : 5}}">                        <div class="header-actions" ng-class="{\'calNavHidden\' : hideCalNav == true}">                            <div class="richcc-icon-container nav-left" cc-key="move(-1)" role="button" tabindex="0" ng-disabled="preventCalNav == true" ng-hide="hideCalNav == true">                                <i class="richcc-icon icon-ScrollChevronLeftLegacy"></i>                            </div>                            <div class="richcc-icon-container labelHolder" id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" cc-key="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="0">                                <label class="title">{{title}}</label>                            </div>                            <div class="richcc-icon-container nav-right" cc-key="move(1)" role="button" tabindex="0" ng-disabled="preventCalNav == true" ng-hide="hideCalNav == true">                                <i class="richcc-icon icon-ScrollChevronRightLegacy"></i>                            </div>                        </div>                    </th>                    <th colspan="1" ng-if="light != true"></th>                </tr>                <tr class="header-dayname-row">                    <th ng-if="showWeeks && false" class="text-center"></th>                    <th colspan="1" ng-repeat="label in labels track by $index" class="text-center dayTitle"><span aria-label="{{label.full}}">{{label.abbr | limitTo:1}}</span></th>                    <th colspan="1" ng-if="light == true"></th>                </tr>            </thead>            <tbody>                <tr class="uib-weeks richcc-row" ng-repeat="row in rows track by $index" ng-init="rowindex = $index">                    <td ng-if="showWeeks && false" class="text-center h6"><em>{{weekNumbers[$index] }}</em></td>                    <td ng-repeat="dt in row track by $index" class="uib-day text-center richcc-td" role="gridcell" id="{{dt.uid}}" ng-class="dt.customClass" colspan="1" ng-disabled="dt.disabled" ng-init="columnindex = $index" ng-click="richccDaySelected(dt, eventDetails[dt.key])" uib-popover-template="dayPopUpTmpl" popover-trigger="{{popUpTrigger(eventDetails[dt.key])}}" popover-append-to-body="true" popover-placement="{{getPopUpPositionForDayMap(rowindex, columnindex)}}" popover-class="richcc-popup-container">                        <div class="richcc-icon-container dayHolder" uib-is-class="                             \'cc-info\' for selectedDt,                             \'cc-active\' for activeDt                             on dt" ng-class="{\'cc-current\': dt.current, \'cc-muted\': dt.secondary}" tabindex="0" ng-if="light != true">                            <div class="richcc-day">                                <span>{{dt.label}}</span>                            </div>                        </div>                        <div class="richcc-time-label" ng-show="showDataLabel == true && light != true">                            <span ng-show="dataLabels[dt.key]">{{dataLabels[dt.key]}}</span>                            <span ng-hide="dataLabels[dt.key]">{{defaultDataLabel}}</span>                            <span class="customIconClass" ng-class="dt.customIconClass"></span>                        </div>                        <div class="markHolder" style="position:relative;" ng-show="eventDetails[dt.key].length > 0">                            <div class="mark step-{{event.step}}" ng-class="{\'top\': event.order == 1, \'bottom\': event.order == 2}" ng-style="{\'color\': event.color, \'width\': light != true ?  \'calc(\' + 100 * event.paintBoxLength + \'% - 8px)\' : \'calc(\' + 100 * event.paintBoxLength + \'% - 20px)\'}" ng-repeat="event in eventDetails[dt.key] track by $index" ng-if="event.startPaint == true" style="color:#fff;">                                <div class="mark-text-initial" ng-if="light == true" ng-style="{\'color\': event.bgcolor}">{{event.initial | limitTo: 1}}</div>                                <div class="mark-stripe" ng-style="{\'border-color\': light == false && event.highlightBorder == true ? event.highlightBorderColor : \'transparent\'}" ng-class="{\'highlightBorder\': light == false ? event.highlightBorder : \'\'}">                                    <div class="mark-stripe-color" ng-style="{\'background-color\': event.bgcolor}">                                        <span class="text">{{event.name}}</span>                                    </div>                                </div>                            </div>                            <div class="mark morePresent" ng-show="eventDetails[dt.key].length > 2 && showMarkerForMoreEvents != false">                                <!--<div class="richcc-icon-container">                                    <i class="richcc-icon icon-more"></i>                                </div>-->                                <div class="circle-marker">                                    <span class="circle"></span><span class="circle"></span><span class="circle"></span>                                </div>                            </div>                        </div>                    </td>                    <td colspan="1" ng-if="light == true" class="richcc-td richcc-light-lastdaymark">                        <span>{{row[6].label}}</span>                    </td>                </tr>            </tbody>        </table>    ',richccTmplMonthEventViewer:'        <table class="uib-daypicker richcc-monthviewer" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}" ng-class="{\'richcc-light\': light}" ng-init="parent = $parent">            <thead style="height:0 !important; margin:0;padding:0;line-height:0;">                <tr class="header-action-holder" style="height:0 !important; margin:0;padding:0;line-height:0;">                    <th colspan="1" class="w48" style="height:0 !important; margin:0;padding:0;line-height:0;"></th>                    <th colspan="38" style="height:0 !important; margin:0;padding:0;line-height:0;">&#xA0;</th>                </tr>            </thead>            <tbody>                <tr class="uib-weeks richcc-row">                    <td colspan="1" class="w48 eventMonthMarker" cc-key="monthSelectCallback()">{{parent.monthViewData[monthIndex].dt.label | limitTo:3}}</td>                    <td ng-repeat="row in parent.monthViewData[monthIndex].rows track by $index" role="gridcell" ng-attr-colspan="{{weekindex == 5 ? 3 : 7}}" class="uib-day text-center richcc-td richcc-td-space{{weekindex}}" ng-init="weekindex = $index">                        <div class="richcc-month-eventbox" ng-repeat="column in row track by $index" ng-if="(weekindex != 5) || (weekindex == 5 && $index < 3)">                            <div class="richcc-eventbox-content {{column.customClass}}" ng-class="{\'notInPresentMonth\' : column.monthIndex != monthIndex, \'showingDates\': parent.eventPopupSettings.showDateInYearView == true}" ng-init="mEvents = parent.monthWiseEventDetails[monthIndex][column.key]" uib-popover-template="monthPopUpTmpl" ng-click="richccDaySelected(column, parent.monthWiseEventDetails[monthIndex][column.key])" popover-trigger="{{popUpTriggerYearView(mEvents)}}" popover-append-to-body="true" popover-placement="{{getPopUpPositionForMonthEventMap(monthIndex, weekindex)}}" popover-class="richcc-popup-container">                                <div class="markHolder" style="position:relative;">                                    <div class="month-date" ng-show="column.monthIndex == monthIndex && parent.eventPopupSettings.showDateInYearView == true">{{column.date | date:\'dd\'}}</div>                                    <div class="mark step-{{event.step}}" ng-show="parent.monthWiseEventDetails[monthIndex][column.key].length > 0" ng-class="{\'top\': event.order == 1, \'bottom\': event.order == 2, \'webWorkers\': enableWebWorkers}" ng-style="{\'color\': event.color, \'width\': \'calc(\' + 100 * event.paintBoxLengthForMonth + \'% - 18px)\'}" ng-repeat="event in parent.monthWiseEventDetails[monthIndex][column.key] track by $index" ng-if="event.startPaintForMonth == true" style="color:#fff;">                                        <div class="mark-text-initial" ng-style="{\'color\': event.bgcolor}">{{event.initial | limitTo: 1}}</div>                                        <div class="mark-stripe light">                                            <div class="mark-stripe-color" ng-style="{\'background-color\': event.bgcolor}"></div>                                        </div>                                    </div>                                </div>                            </div>                        </div>                    </td>                </tr>            </tbody>        </table>    ',richccTmplMonthEventWrap:'        <table class="uib-monthpicker richcc-daypicker" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">            <thead>                <tr class="header-action-holder">                    <th colspan="1"></th>                    <th colspan="4">                        <div class="header-actions">                            <div class="richcc-icon-container nav-left" cc-key="move(-1)" role="button" tabindex="0" ng-disabled="preventCalNav == true">                                <i class="richcc-icon icon-ScrollChevronLeftLegacy"></i>                            </div>                            <div class="richcc-icon-container labelHolder" id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" cc-key="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="0">                                <label class="title">{{title}}</label>                            </div>                            <div class="richcc-icon-container nav-right" cc-key="move(1)" role="button" tabindex="0" ng-disabled="preventCalNav == true">                                <i class="richcc-icon icon-ScrollChevronRightLegacy"></i>                            </div>                        </div>                    </th>                    <th colspan="1"></th>                </tr>            </thead>            <tbody>                <tr class="uib-months" style="height: 24px;">                    <td colspan="6">                        <rich-months-day-marker></rich-months-day-marker>                    </td>                </tr>                <tr class="uib-months" ng-repeat="row in rows track by $index">                    <td ng-repeat="dt in row track by $index" class="uib-month text-center richcc-month-event-box-holder" role="gridcell" id="{{dt.uid}}" ng-class="dt.customClass" colspan="6">                        <rich-months-event-viewer month-date="dt" month-index="dt.monthIndex" month-select-callback="select(dt.date)"></rich-months-event-viewer>                    </td>                </tr>            </tbody>        </table>    ',richccTmplMonthHeatViewer:'        <table class="uib-daypicker richcc-monthviewer" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}" ng-class="{\'richcc-light\': light}" ng-init="parent = $parent">            <thead>                <tr class="header-action-holder">                    <th colspan="7" cc-key="monthSelectCallback()">{{parent.monthViewData[monthIndex].dt.label | limitTo:3}}</th>                </tr>            </thead>            <tbody>                <tr class="uib-weeks richcc-row" ng-repeat="row in [0,1,2,3,4,5,6] track by $index">                    <td ng-repeat="column in parent.monthViewData[monthIndex].rows track by $index" class="uib-day text-center richcc-td" role="gridcell" id="{{mdt.key}}" colspan="1" ng-style="{\'opacity\': column[row].monthIndex != monthIndex ? 0 : 1}" ng-init="mdt = column[row]; popitem = column[row]" ng-attr-len="{{parent.monthWiseEventDetails[monthIndex][mdt.key].length}}" ng-click="richccDaySelected(column, parent.monthWiseEventDetails[monthIndex][popitem.key])" uib-popover-template="monthPopUpTmpl" popover-trigger="{{parent.monthWiseEventDetails[monthIndex][popitem.key].length > 0 &&  eventPopupSettings.hidden != true ? \'outsideClick\' : \'none\'}}" popover-append-to-body="true" popover-placement="{{getPopUpPositionForMonthHeatMap(monthIndex)}}" popover-class="richcc-popup-container">                        <div class="richcc-mv-box" ng-class="{\'fullyOpaque\': parent.monthWiseEventDetails[monthIndex][mdt.key].length > 2}" ng-attr-transparent="{{parent.monthWiseEventDetails[monthIndex][mdt.key].length}}"></div>                    </td>                </tr>            </tbody>        </table>    ',richccTmplMonthHeatWrap:'        <table class="uib-monthpicker richcc-daypicker" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">            <thead>                <tr class="header-action-holder">                    <th colspan="1" class="w48"></th>                    <th colspan="1"></th>                    <th colspan="4">                        <div class="header-actions">                            <div class="richcc-icon-container nav-left" cc-key="move(-1)" role="button" tabindex="0" ng-disabled="preventCalNav == true">                                <i class="richcc-icon icon-ScrollChevronLeftLegacy"></i>                            </div>                            <div class="richcc-icon-container labelHolder" id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" cc-key="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="0">                                <label class="title">{{title}}</label>                            </div>                            <div class="richcc-icon-container nav-right" cc-key="move(1)" role="button" tabindex="0" ng-disabled="preventCalNav == true">                                <i class="richcc-icon icon-ScrollChevronRightLegacy"></i>                            </div>                        </div>                    </th>                    <th colspan="1"></th>                </tr>            </thead>            <tbody>                <tr class="uib-months" ng-repeat="row in rows track by $index">                    <td class="uib-month text-center w48" role="gridcell" colspan="1">                        <rich-months-day-marker></rich-months-day-marker>                    </td>                    <td ng-repeat="dt in row track by $index" class="uib-month text-center" role="gridcell" id="{{dt.uid}}" ng-class="dt.customClass" colspan="1">                        <rich-months-heat-viewer month-date="dt" month-index="dt.monthIndex" month-select-callback="select(dt.date)"></rich-months-heat-viewer>                    </td>                </tr>            </tbody>        </table>    ',richccTmplMonthViewerDayMarker:'        <table class="uib-daypicker richcc-monthviewer" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}" ng-class="{\'richcc-light\': light}" ng-init="parent = $parent">            <thead ng-if="yearMapHeat == true">                <tr class="header-action-holder">                    <th colspan="1">&#xA0;</th>                </tr>            </thead>            <thead style="height:0 !important; margin:0;padding:0;line-height:0;" ng-if="yearMapHeat == false">                <tr class="header-action-holder" style="height:0 !important; margin:0;padding:0;line-height:0;">                    <th colspan="1" class="w48" style="height:0 !important; margin:0;padding:0;line-height:0;"></th>                    <th colspan="38" style="height:0 !important; margin:0;padding:0;line-height:0;">&#xA0;</th>                </tr>            </thead>            <tbody>                <tr class="uib-weeks richcc-row" ng-repeat="row in [0,1,2,3,4,5,6] track by $index" ng-if="yearMapHeat == true">                    <td class="uib-day text-center richcc-td" role="gridcell">                        <span class="marker" ng-show="$index == 1 || $index == 3 || $index == 5">{{monthWiseEventMarkers[0][row].abbr | limitTo:1}}</span>                    </td>                </tr>                <tr class="uib-weeks richcc-row" ng-if="yearMapHeat == false">                    <td colspan="1" class="w48">&#xA0;</td>                    <td ng-repeat="row in parent.monthViewData[0].rows track by $index" role="gridcell" ng-attr-colspan="{{weekindex == 5 ? 3 : 7}}" class="uib-day text-center richcc-td richcc-td-space{{weekindex}}" ng-init="weekindex = $index">                        <div class="richcc-month-eventbox eventDayMarker" ng-repeat="column in row track by $index" ng-if="(weekindex != 5) || (weekindex == 5 && $index < 3)">                            <span>{{monthWiseEventMarkers[0][$index].abbr | limitTo:1}}</span>                        </div>                    </td>                </tr>            </tbody>        </table>    ',richccTmplPopup:'        <div>            <ul class="uib-datepicker-popup dropdown-menu richcc-datepicker-popup" dropdown-nested="" ng-if="isOpen" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">                <li ng-transclude=""></li>                <li ng-if="showButtonBar" class="uib-button-bar">                    <span class="btn-group pull-left">                        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>                        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null)">{{ getText(\'clear\') }}</button>                    </span>                    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close()">{{ getText(\'close\') }}</button>                </li>            </ul>        </div>    ',richccTmplDayPopup:'        <div class="richcc-day-popup">            <div class="event-container" ng-class="{\'noActions\': !(eventPopupSettings.showLeft || eventPopupSettings.showRight)}">                <div class="event-container-label">{{dt.date | date:eventPopupSettings.dateFilter}} <span ng-show="eventDetails[dt.key].length > 0 ">({{eventDetails[dt.key].length}} Events)</span></div>                <div class="event-details-container">                    <div class="event-detail" ng-repeat="event in eventDetails[dt.key] track by $index" ng-click="popUpEventClickHandler(dt, event)">                        <div class="event-marker"></div>                        <div class="event-title-holder" ng-style="{\'border-left-color\': event.bgcolor}">                            <span class="event-title">{{event.name}}</span> : <span class="event-subject">{{event.subject}}</span>                            <div class="event-timing-holder">                                <span class="event-time">{{event._startDt | date:eventPopupSettings.dateFilter}}</span><span style="padding: 0 15px;">-</span><span class="event-time">{{event._endDt | date: eventPopupSettings.dateFilter}}</span>                            </div>                        </div>                    </div>                </div>            </div>            <div class="event-action-container" ng-class="{\'singleButtonOnly\' : (eventPopupSettings.showLeft != false && eventPopupSettings.showRight == false) || (eventPopupSettings.showLeft == false && eventPopupSettings.showRight != false)}" ng-show="eventPopupSettings.showLeft || eventPopupSettings.showRight">                <button class="event-action" ng-if="eventPopupSettings.showLeft != false" ng-click="popUpLeftHandler(dt, eventDetails[dt.key])">{{eventPopupSettings.leftLabel || \'Add Events\'}}</button>                <button class="event-action" ng-if="eventPopupSettings.showRight != false" ng-click="popUpRightHandler(dt, eventDetails[dt.key])">{{eventPopupSettings.rightLabel || \'Edit Events\'}}</button>                <div class="event-separator"></div>            </div>        </div>    ',richccTmplRichccMonthPopup:'        <div class="richcc-day-popup" ng-init="">            <div class="event-container" ng-class="{\'noActions\': !(parent.eventPopupSettings.showLeft || parent.eventPopupSettings.showRight)}">                <div class="event-container-label">{{column.date | date: parent.eventPopupSettings.dateFilter}} <span ng-show="parent.monthWiseEventDetails[monthIndex][column.key].length > 0 ">({{parent.monthWiseEventDetails[monthIndex][column.key].length}} Events)</span></div>                <div class="event-details-container">                    <div class="event-detail" ng-repeat="event in parent.monthWiseEventDetails[monthIndex][column.key] track by $index" ng-click="popUpEventClickHandler(column, event)">                        <div class="event-marker"></div>                        <div class="event-title-holder" ng-style="{\'border-left-color\': event.bgcolor}">                            <span class="event-title">{{event.name}}</span> : <span class="event-subject">{{event.subject}}</span>                            <div class="event-timing-holder">                                <span class="event-time">{{event._startDt | date: parent.eventPopupSettings.dateFilter}}</span><span style="padding: 0 15px;">-</span><span class="event-time">{{event._endDt | date: parent.eventPopupSettings.dateFilter}}</span>                            </div>                        </div>                    </div>                </div>            </div>            <div class="event-action-container" ng-class="{\'singleButtonOnly\' : (parent.eventPopupSettings.showLeft != false && parent.eventPopupSettings.showRight == false) || (parent.eventPopupSettings.showLeft == false && parent.eventPopupSettings.showRight != false)}" ng-show="parent.eventPopupSettings.showLeft || parent.eventPopupSettings.showRight">                <button class="event-action" ng-if="parent.eventPopupSettings.showLeft != false" ng-click="popUpLeftHandler(column, parent.monthWiseEventDetails[monthIndex][column.key])">{{parent.eventPopupSettings.leftLabel || \'Add Events\'}}</button>                <button class="event-action" ng-if="parent.eventPopupSettings.showRight != false" ng-click="popUpRightHandler(column, parent.monthWiseEventDetails[monthIndex][column.key])">{{parent.eventPopupSettings.rightLabel || \'Edit Events\'}}</button>                <div class="event-separator"></div>            </div>        </div>    ',richccTmplYear:'        <table class="uib-yearpicker richcc-daypicker" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">            <thead>                <tr class="header-action-holder">                    <th colspan="1"></th>                    <th colspan="3">                        <div class="header-actions">                            <div class="richcc-icon-container nav-left" cc-key="move(-1)" role="button" tabindex="0" ng-disabled="preventCalNav == true">                                <i class="richcc-icon icon-ScrollChevronLeftLegacy"></i>                            </div>                            <div class="richcc-icon-container labelHolder" id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" cc-key="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="0">                                <label class="title">{{title}}</label>                            </div>                            <div class="richcc-icon-container nav-right" cc-key="move(1)" role="button" tabindex="0" ng-disabled="preventCalNav == true">                                <i class="richcc-icon icon-ScrollChevronRightLegacy"></i>                            </div>                        </div>                    </th>                    <th colspan="1"></th>                </tr>            </thead>            <thead>            </thead>            <tbody>                <tr class="uib-years" ng-repeat="row in rows track by $index">                    <td ng-repeat="dt in row track by $index" class="uib-year text-center" role="gridcell" id="{{dt.uid}}" ng-class="dt.customClass">                        <button type="button" class="btn btn-default" uib-is-class="                                \'btn-info\' for selectedDt,                                \'active\' for activeDt                                on dt" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1">                            <span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span>                        </button>                    </td>                </tr>            </tbody>        </table>    '};angular.module("richcc.bootstrap.datepicker").run(["$templateCache",function(t){t.put("template/richcc/datepicker.html",e.richccTmplDatepicker),t.put("template/richcc/day.html",e.richccTmplDay),t.put("template/richcc/monthEventViewer.html",e.richccTmplMonthEventViewer),t.put("template/richcc/monthEventWrap.html",e.richccTmplMonthEventWrap),t.put("template/richcc/monthHeatViewer.html",e.richccTmplMonthHeatViewer),t.put("template/richcc/monthHeatWrap.html",e.richccTmplMonthHeatWrap),t.put("template/richcc/monthViewerDayMarker.html",e.richccTmplMonthViewerDayMarker),t.put("template/richcc/popup.html",e.richccTmplPopup),t.put("template/richcc/richccDayPopup.html",e.richccTmplDayPopup),t.put("template/richcc/richccMonthPopup.html",e.richccTmplRichccMonthPopup),t.put("template/richcc/year.html",e.richccTmplYear)}])}();